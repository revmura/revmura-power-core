<?xml version="1.0"?>
<ruleset name="Revmura Power Core Minimal">
  <description>PHP compatibility + WP security only. No naming/style/docs.</description>

  <file>revmura-power-core.php</file>
  <file>src</file>

  <exclude-pattern>vendor/*</exclude-pattern>
  <exclude-pattern>node_modules/*</exclude-pattern>

  <config name="testVersion" value="8.1-8.3"/>
  <config name="show_deprecated" value="0"/>

  <rule ref="PHPCompatibility"/>

  <rule ref="WordPress-Core">
    <!-- Allow PSR-4 filenames and camelCase names -->
    <exclude name="WordPress.Files.FileName"/>
    <exclude name="WordPress.NamingConventions.ValidFunctionName"/>
    <exclude name="WordPress.NamingConventions.ValidVariableName"/>
  </rule>

  <!-- Security-focused sniffs -->
  <rule ref="WordPress.Security.EscapeOutput"/>
  <rule ref="WordPress.Security.ValidatedSanitizedInput"/>
  <rule ref="WordPress.Security.NonceVerification"/>
  <rule ref="WordPress.DB.PreparedSQL"/>

  <!-- Silence formatting/style families -->
  <rule ref="Generic"><severity>0</severity></rule>
  <rule ref="PEAR"><severity>0</severity></rule>
  <rule ref="PSR1"><severity>0</severity></rule>
  <rule ref="PSR2"><severity>0</severity></rule>
  <rule ref="Squiz"><severity>0</severity></rule>
  <rule ref="Zend"><severity>0</severity></rule>

  <exclude name="Generic.CodeAnalysis.UnconditionalIfStatement"/>
  <arg name="extensions" value="php"/>
</ruleset>
